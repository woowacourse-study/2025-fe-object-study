## 3장 개요

객체지향 설계의 핵심 개념인 역할, 책임, 협력에 대해 다루고 있다. 2장에서 구현된 영화 예매 시스템을 예시로 들어 책임 주도 설계 방법을 소개하고, 클래스나 상속이 아닌 이 세 가지 요소(역할, 책임, 협력)의 조화와 균형이 객체지향 설계에서 가장 중요하다고 강조한다.

## 역할 / 책임 / 협력

### 1. 역할 (Role)

역할은 객체가 특정 협력 안에서 수행하는 책임의 집합이다. 협력을 모델링할 때 특정한 객체보다는 역할에게 책임을 할당하는 것이 좋다. 책의 예시처럼 영화 예매 협력에서 영화를 예매할 수 있는 적절한 역할을 찾고, 그 역할을 수행할 객체로 'Screening' 인스턴스를 선택하는 과정이 역할의 중요성을 보여주고 있다.

### 2. 책임 (Responsibility)

책임은 객체가 무엇을 알고 있는지(정보 책임) 또는 무엇을 할 수 있는지(행동 책임)를 나타낸다. 또한 객체의 외부에 제공할 수 있는 공용 인터페이스의 핵심 요소이다. 객체의 책임을 할당하는 것은 객체지향 설계의 중요한 부분이며, 책임 주도 설계는 메시지를 통해 객체의 책임과 행동을 결정하는 방식이다. 객체의 상태보다 행동이 중요하며, 협력이 객체의 행동을 결정하고 그 행동이 곧 객체의 책임이 된다.

- **책임 주도 설계:** 메시지가 객체를 결정하도록 하여 설계를 깔끔하게 만든다. 이는 구현과 부수 효과를 캡슐화하고 높은 응집도와 낮은 결합도를 가진 인터페이스를 생성하는 지침을 제공한다.
- **메시지가 객체를 결정:** 객체지향 설계에서 중요한 것은 객체가 아니라 메시지이다. 메시지는 협력에 참여하는 객체들을 연결하고, 메시지를 주고받는 관계를 통해 객체들의 행동이 결정된다.
- **행동이 상태를 결정:** 객체의 행동이 객체의 상태를 결정하는 우선순위를 가진다. 객체가 가질 수 있는 상태는 행동이 결정된 후에야 비로소 결정된다.

### 3. 협력 (Collaboration)

협력은 어떤 객체가 다른 객체에게 무엇인가를 요청하는 것이다. 한 객체가 무엇인가 필요할 때 다른 객체에게 전적으로 위임하거나 서로 협력하여 더 큰 책임을 수행한다. 객체 사이의 협력을 설계할 때는 객체를 분리된 인스턴스가 아닌 협력하는 파트너로 인식해야한다. 협력은 설계를 위한 문맥을 결정한다.

## 프론트엔드 개발자로서 어떻게 코드에 녹여낼 수 있을까?

우선 객체를 **UI 컴포넌트나 모듈**로 생각

### 1. 역할 (Role)

특정 기능을 수행하는 UI 컴포넌트나 모듈의 추상적인 목적

- **컴포넌트의 역할 정의:** 특정 컴포넌트가 사용자 인터페이스에서 어떤 역할을 하는지 명확히 정의한다.
- **재사용 가능한 역할 추상화:** 공통된 동작이나 기능을 하는 컴포넌트들에 대해 역할을 부여하고, 이를 추상화하여 재사용성을 높인다.
- **역할 기반 컴포넌트 분리:** 하나의 큰 컴포넌트를 더 작은 역할 단위로 분리하여 하나의 컴포넌트가 하나의 명확한 역할을 수행하도록 한다.

### 2. 책임 (Responsibility)

각 컴포넌트나 모듈이 수행해야 할 구체적인 작업이나 관리해야 할 데이터

- **단일 책임 원칙 (SRP):** 한 컴포넌트(객체)는 하나의 책임만 가져야 한다.
- **정보 책임과 행동 책임:**
  - **정보 책임:** 컴포넌트가 어떤 데이터를 소유하고 관리할 것인가?
  - **행동 책임:** 컴포넌트가 어떤 동작을 수행할 것인가?
- **책임 주도 설계 적용:** UI를 설계할 때, 어떤 컴포넌트가 어떤 메시지(이벤트, 데이터 요청 등)를 처리해야 하는지 먼저 생각

### 3. 협력 (Collaboration)

'각 컴포넌트나 모듈이 서로 메시지(이벤트, props, 함수 호출 등)를 주고받으며 공동의 목표를 달성하는 과정

- **데이터 흐름 및 이벤트 전달:** 부모-자식 컴포넌트 간의 props를 통한 데이터 전달과 콜백 함수를 통한 이벤트 전달
- **상태 관리 라이브러리를 통한 협력:** Redux, Zustand, Jotai 등 상태 관리 라이브러리는 여러 컴포넌트가 공유하는 상태를 중앙에서 관리하며 이를 통해 간접적으로 협력한다. 특정 컴포넌트가 상태를 변경하면, 해당 상태를 구독하는 다른 컴포넌트들이 자동으로 업데이트되어 협력적인 UI를 구성한다.
- **서비스/유틸리티 모듈과의 협력:** API fetching, Validator 유틸리티, Helper 함수 모듈은 UI 컴포넌트가 직접 모든 로직을 처리하는 대신 해당 모듈에게 책임을 위임함으로써 협력한다.
- **명확한 인터페이스 정의:** 각 컴포넌트가 다른 컴포넌트와 협력할 때 어떤 props를 받을 것이고, 어떤 이벤트를 발생시킬 것인지를 명확하게 정의하여 결합도를 낮추고 재사용성을 높인다.
