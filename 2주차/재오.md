# ë¦¬ì•¡íŠ¸ì—ì„œ 'í–‰ë™'ì´ë€ ë¬´ì—‡ì¼ê¹Œ?

ê°ì²´ê°€ ìˆ˜í–‰í•˜ëŠ” í–‰ë™ì„ ì±…ì„ì´ë¼ê³  ë¶€ë¥¸ë‹¤.

### ì˜¤ë¸Œì íŠ¸ì—ì„œ ë§í•˜ëŠ” "í–‰ë™"ì´ë€?
- ê°ì²´ëŠ” **ìì‹ ì´ ë§¡ì€ ì±…ì„(í–‰ë™)**ì„ ìˆ˜í–‰í•¨ìœ¼ë¡œì¨ ì‹œìŠ¤í…œì˜ ì¼ë¶€ê°€ ë©ë‹ˆë‹¤.
- ì˜ˆ) ê³ ê° ê°ì²´ëŠ” â€œí• ì¸ìœ¨ ê³„ì‚°â€ì´ë¼ëŠ” ì±…ì„(í–‰ë™)ì„ ê°€ì§€ê³  ìˆìŒ.
- í–‰ë™ì€ ê°ì²´ì˜ ì¡´ì¬ ì´ìœ ì´ì í˜‘ë ¥ì˜ ì¶œë°œì ì…ë‹ˆë‹¤.

ì´ ì •ì˜ë¥¼ í”„ë¡ íŠ¸ì—”ë“œ, íŠ¹íˆ **React**ì— ì ìš©í•˜ë©´ ì–´ë–»ê²Œ í•´ì„í•  ìˆ˜ ìˆì„ê¹Œ?

- ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ì™¸ë¶€ ë°ì´í„°ë‚˜ ë‚´ë¶€ ìƒíƒœì— ë”°ë¼ UIë¥¼ íŒë‹¨í•´ ê·¸ë¦¬ëŠ” í–‰ìœ„ëŠ” ì¶©ë¶„íˆ â€˜í–‰ë™â€™ìœ¼ë¡œ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì¦‰,  
ì»´í¬ë„ŒíŠ¸ê°€ ìƒí™©ì— ë”°ë¼ **"ì´ë ‡ê²Œ ë³´ì—¬ì¤˜ì•¼ í•´"** ë¼ê³  íŒë‹¨í•´ì„œ UIë¥¼ êµ¬ì„±í•œë‹¤ë©´,  
ì´ëŠ” ë‹¤ìŒì„ ëª¨ë‘ í¬í•¨í•˜ëŠ” ììœ¨ì ì¸ í–‰ë™ì…ë‹ˆë‹¤:

- **ì•Œê³  ìˆëŠ” ê²ƒ** (props, state ë“±)
- **íŒë‹¨í•œ ê²ƒ** (ì¡°ê±´ ë¶„ê¸°, ë¡œì§)
- **í‘œí˜„í•œ ê²ƒ** (UI ë Œë”ë§)

---

## ğŸ¯ ë¦¬ì•¡íŠ¸ì—ì„œì˜ í–‰ë™ = ë‘ ê°€ì§€ë¡œ ë‚˜ë‰œë‹¤

| êµ¬ë¶„ | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|
| **í‘œí˜„ì  í–‰ë™ (Presentation Logic)** | ìƒíƒœë‚˜ propsì— ë”°ë¼ ì ì ˆí•œ UIë¥¼ êµ¬ì„± | ì¡°ê±´ë¶€ ë Œë”ë§, ìŠ¤íƒ€ì¼ ë¶„ê¸°, ëŒ€ì²´ ì´ë¯¸ì§€ í‘œì‹œ |
| **ì²˜ë¦¬ì  í–‰ë™ (Business Logic)** | ì´ë²¤íŠ¸ ì²˜ë¦¬, ë°ì´í„° ì €ì¥/ìš”ì²­ ë“± ì•±ì˜ ë¡œì§ ì‹¤í–‰ | ë²„íŠ¼ í´ë¦­ â†’ API ìš”ì²­, ëª¨ë‹¬ ì—´ê¸°, ìƒíƒœ ì—…ë°ì´íŠ¸ ë“± |

---

## âœ¨ ì™œ í‘œí˜„ê³¼ ì²˜ë¦¬ë¥¼ ë‚˜ëˆ ì•¼ í• ê¹Œ?

### 1. ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬ (Separation of Concerns)

| ì—­í•  | ì±…ì„ |
|------|------|
| í‘œí˜„ ì»´í¬ë„ŒíŠ¸ | **ì–´ë–»ê²Œ ë³´ì—¬ì¤„ì§€**ì—ë§Œ ì§‘ì¤‘ |
| ì²˜ë¦¬ ë¡œì§ | **ë¬´ì—‡ì„ í•´ì•¼ í•˜ëŠ”ì§€**ì—ë§Œ ì§‘ì¤‘ (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, ì‚¬ì´ë“œ ì´í™íŠ¸ ë“±) |

### 2. ë¶„ë¦¬ë¥¼ ì•ˆ í•˜ë©´ ìƒê¸°ëŠ” ë¬¸ì œ

- ì»´í¬ë„ŒíŠ¸ê°€ **ë„ˆë¬´ ë§ì€ ì—­í• **ì„ í•˜ê²Œ ë¨
- **í…ŒìŠ¤íŠ¸ê°€ ì–´ë ¤ì›Œì§€ê³ **, **ë¡œì§ ë³€ê²½ ì‹œ ë²„ê·¸ ê°€ëŠ¥ì„± ì¦ê°€**
- **ì¬ì‚¬ìš©ì´ í˜ë“¤ì–´ì§** (íŠ¹ì • ë¡œì§ì´ ë¬¶ì—¬ ìˆìŒ)

---

## ğŸ” ì‹¤ì œë¡œ ì–´ë–»ê²Œ ë‚˜ëˆŒ ìˆ˜ ìˆì„ê¹Œ?

### [ê´€ì‹¬ì‚¬ ë¶„ë¦¬ ì „]
```tsx
interface Props {
  newsletterId: string;
}

function SubscribeButton({ newsletterId }: Props) {
  const [isSubscribed, setIsSubscribed] = useState(false);

  const toggleSubscribe = async () => {
    if (isSubscribed) {
      await unsubscribeFromNewsletter(newsletterId);
    } else {
      await subscribeToNewsletter(newsletterId);
    }
    setIsSubscribed((prev) => !prev);
  };

  return (
    <button
      onClick={toggleSubscribe}
      className={`px-4 py-2 rounded ${
        isSubscribed ? 'bg-gray-300' : 'bg-blue-500 text-white'
      }`}
    >
      {isSubscribed ? 'êµ¬ë…ë¨' : 'êµ¬ë…í•˜ê¸°'}
    </button>
  );
}

export default SubscribeButton;
```

### [ê´€ì‹¬ì‚¬ ë¶„ë¦¬ í›„]
```ts
// useSubscribe.ts
import { useState } from 'react';
import { subscribeToNewsletter, unsubscribeFromNewsletter } from '../api/subscribe';

export function useSubscribe(newsletterId: string) {
  const [isSubscribed, setIsSubscribed] = useState(false);

  const toggleSubscribe = async () => {
    if (isSubscribed) {
      await unsubscribeFromNewsletter(newsletterId);
    } else {
      await subscribeToNewsletter(newsletterId);
    }
    setIsSubscribed((prev) => !prev);
  };

  return { isSubscribed, toggleSubscribe };
}
```

```tsx
// SubscribeButton.tsx
import { useSubscribe } from '../hooks/useSubscribe';

interface Props {
  newsletterId: string;
}

function SubscribeButton({ newsletterId }: Props) {
  const { isSubscribed, toggleSubscribe } = useSubscribe(newsletterId);

  return (
    <button
      onClick={toggleSubscribe}
      className={`px-4 py-2 rounded ${
        isSubscribed ? 'bg-gray-300' : 'bg-blue-500 text-white'
      }`}
    >
      {isSubscribed ? 'êµ¬ë…ë¨' : 'êµ¬ë…í•˜ê¸°'}
    </button>
  );
}

export default SubscribeButton;

```

---


### í›…ì˜ ì±…ì„ì´ ë§ì•„ì¡Œì„ë•ŒëŠ” ì–´ë–»ê²Œ ë¶„ë¦¬í•˜ë©´ ì¢‹ì„ê¹Œ?

```tsx
// usePostForm.ts
function usePostForm() {
  const [title, setTitle] = useState('');
  const [content, setContent] = useState('');
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [error, setError] = useState<string | null>(null);

  const isValid = title.length > 0 && content.length > 0;

  const handleChangeTitle = (e: React.ChangeEvent<HTMLInputElement>) => {
    setTitle(e.target.value);
  };

  const handleChangeContent = (e: React.ChangeEvent<HTMLTextAreaElement>) => {
    setContent(e.target.value);
  };

  const submit = async () => {
    if (!isValid) {
      setError('ì œëª©ê³¼ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
      return;
    }

    setIsSubmitting(true);
    try {
      await postArticle({ title, content });
      alert('ê²Œì‹œê¸€ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.');
    } catch (e) {
      setError('ë“±ë¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
    } finally {
      setIsSubmitting(false);
    }
  };

  useEffect(() => {
    trackEvent('post_form_view');
  }, []);

  return {
    title,
    content,
    isValid,
    isSubmitting,
    error,
    handleChangeTitle,
    handleChangeContent,
    submit,
  };
}
```

```ts
function usePostFormState() {
  const [title, setTitle] = useState('');
  const [content, setContent] = useState('');

  const handleChangeTitle = (e: React.ChangeEvent<HTMLInputElement>) => {
    setTitle(e.target.value);
  };

  const handleChangeContent = (e: React.ChangeEvent<HTMLTextAreaElement>) => {
    setContent(e.target.value);
  };

  return {
    title,
    content,
    handleChangeTitle,
    handleChangeContent,
    isValid: title.length > 0 && content.length > 0,
  };
}

function usePostSubmit(title: string, content: string, isValid: boolean) {
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [error, setError] = useState<string | null>(null);

  const submit = async () => {
    if (!isValid) {
      setError('ì œëª©ê³¼ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
      return;
    }

    setIsSubmitting(true);
    try {
      await postArticle({ title, content });
      alert('ê²Œì‹œê¸€ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.');
    } catch (e) {
      setError('ë“±ë¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
    } finally {
      setIsSubmitting(false);
    }
  };

  return { submit, isSubmitting, error };
}

function usePostAnalytics() {
  useEffect(() => {
    trackEvent('post_form_view');
  }, []);
}

function usePostForm() {
  const { title, content, handleChangeTitle, handleChangeContent, isValid } = usePostFormState();
  const { submit, isSubmitting, error } = usePostSubmit(title, content, isValid);
  usePostAnalytics();

  return {
    title,
    content,
    isValid,
    handleChangeTitle,
    handleChangeContent,
    submit,
    isSubmitting,
    error,
  };
}
```

### `usePostForm` í›…ì´ â€œë§ì€ ì±…ì„ì„ ê°–ê³  ìˆë‹¤â€ê³  ë§í•  ìˆ˜ ìˆì„ê¹Œ?

- `usePostForm`ì€ ë§ì€ ì±…ì„ì„ â€œê°€ì§€ê³  ìˆëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ì§€ë§Œâ€, ì‹¤ì œë¡œëŠ” â€œë§ì€ í›…ê³¼ í˜‘ë ¥í•˜ê³  ìˆëŠ” í•˜ë‚˜ì˜ ì¡°ì •ìâ€ì¼ ë¿.
- ì¦‰, `usePostForm`ì€ ë§ì€ ì¼ì„ â€œì§ì ‘â€ í•˜ì§€ëŠ” ì•Šê³ , ì—­í• ì´ ë¶„ë¦¬ëœ ì‘ì€ í›…ë“¤ ì‚¬ì´ì˜ â€œí˜‘ë ¥â€ì„ ì¡°ìœ¨í•˜ëŠ” ì±…ì„ë§Œ ê°€ì§„ë‹¤.